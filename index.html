<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emoji Translator</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
</head>
<body class="bg-gray-800 text-white text-white flex justify-center items-center h-screen">
  <div id="translator" class="bg-gray-900 p-8 rounded-md max-w-md mx-auto mt-10 text-center">
    <textarea id="inputText" class="bg-gray-700 text-white border-2 border-gray-600 rounded p-2 mb-4" placeholder="Enter text to translate"></textarea>
    <button id="translateButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer" onclick="translateText()">Translate to Emoji</button>
    
    <!-- New button to generate random quote -->
    <button id="generateQuoteButton" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded cursor-pointer mt-4" onclick="generateRandomQuote()">Generate Random Quote</button>

    <div id="outputContainer" class="mt-4">
      <div id="outputText" class="font-bold text-2xl"></div>
    </div>
  </div>
  <script>
    function generateRandomQuote() {
      // Make a request to the quote API
      fetch('https://type.fit/api/quotes')
        .then(response => response.json())
        .then(quoteData => {
          console.log('Quote API Response:', quoteData);

          // Check if there are quotes in the response
          if (quoteData.length > 0) {
            // Select a random quote from the array
            const randomIndex = Math.floor(Math.random() * quoteData.length);
            const randomQuote = quoteData[randomIndex];

            // Assuming the quote text is provided in randomQuote.text
            if (randomQuote.text) {
              // Set the generated quote in the input box
              document.getElementById('inputText').value = randomQuote.text;
            } else {
              // Display an error message if quote retrieval fails
              document.getElementById('inputText').value = 'Quote retrieval failed. Please try again.';
            }
          } else {
            // Display a message if no quotes are available
            document.getElementById('inputText').value = 'No quotes available. Please try again later.';
          }
        })
        .catch(error => {
          console.error('Error fetching quote:', error);
          document.getElementById('inputText').value = 'Quote retrieval failed. Please try again.';
        });
    }

    function translateText() {
      const inputText = document.getElementById('inputText').value;
      const outputTextElement = document.getElementById('outputText');

      // Check if the input text is empty
      if (inputText.trim() === '') {
        // Handle the case where the input is empty (similar to your existing translation logic)
        // ...
      } else {
        // Make a request to the emoji translation API
        fetch(`https://api.funtranslations.com/translate/emoji.json?text=${encodeURIComponent(inputText)}`, {
          headers: {
            'X-FunTranslations-Api-Secret': 'PqqgjOlWJmCIWtAqPcn_QgeF',
          },
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(data => {
            console.log('Emoji Translation API Response:', data);

            // Assuming the translated emojis are provided as plain text
            if (data.contents && data.contents.translated) {
              // Use innerHTML to render emojis
              document.getElementById('outputText').innerHTML = data.contents.translated;
            } else {
              // Display an error message if emoji translation fails
              document.getElementById('outputText').textContent = 'Emoji translation failed. Please try again.';
            }
          })
          .catch(error => {
            console.error('Error fetching emoji translation:', error);
            document.getElementById('outputText').textContent = 'Emoji translation failed. Please try again.';
          });
      }
    }

    // Attach the translateText function to the button click event
    document.getElementById('translateButton').addEventListener('click', translateText);
  </script>
</body>
</html>
